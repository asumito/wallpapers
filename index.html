<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Wallpaper Gallery</title>

<style>
body {
  margin: 0;
  background: #050505;
  color: #eee;
  font-family: system-ui, sans-serif;
}

header {
  text-align: center;
  padding: 20px;
  font-size: 22px;
  font-weight: 600;
}

.gallery {
  column-count: 4;
  column-gap: 12px;
  padding: 12px;
}

@media (max-width: 900px) {
  .gallery { column-count: 2; }
}

@media (max-width: 500px) {
  .gallery { column-count: 1; }
}

.item {
  position: relative;
  margin-bottom: 12px;
  break-inside: avoid;
}

.item img {
  width: 100%;
  border-radius: 12px;
  cursor: pointer;
  filter: blur(10px);
  transition: filter .4s ease, transform .2s ease;
}

.item img.loaded {
  filter: blur(0);
}

.item img:hover {
  transform: scale(1.02);
}

.meta {
  position: absolute;
  bottom: 8px;
  left: 8px;
  font-size: 12px;
  background: rgba(0,0,0,.6);
  padding: 3px 6px;
  border-radius: 6px;
}

.lightbox {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.95);
  display: none;
  align-items: center;
  justify-content: center;
  flex-direction: column;
}

.lightbox img {
  max-width: 95%;
  max-height: 85%;
  border-radius: 10px;
}

.controls {
  margin-top: 10px;
}

button {
  background: #222;
  color: white;
  border: none;
  padding: 10px 14px;
  margin: 4px;
  border-radius: 8px;
  cursor: pointer;
}

button:hover {
  background: #333;
}
</style>
</head>

<body>

<header>Wallpaper Gallery</header>

<div class="gallery" id="gallery"></div>

<div class="lightbox" id="lightbox">
  <img id="viewer">
  <div class="controls">
    <button id="prev">← Prev</button>
    <button id="download">Download</button>
    <button id="next">Next →</button>
  </div>
</div>

<script>
const files = [
"1.jpg","2.jpg","3.jpg","4.png","5.png","6.png","7.png","8.png","9.jpg",
"10.png","11.png","12.jpg","13.png","14.png","15.png","16.jpg","17.png","18.jpg","19.jpg",
"20.png","21.png","22.gif","23.jpg","24.jpg","27.jpg",
"2512.jpg","2515.jpg","2519.jpg","2523.jpg","2526.jpg","2528.jpg","2530.jpg","2532.jpg","2533.jpg",
"2535.jpg","2536.jpg","2537.jpg","2538.jpg","2540.jpg","2541.jpg","2542.jpg","2544.jpg","2545.jpg",
"2546.jpg","2547.jpg","2549.jpg",
"255.jpg","2551.jpg","2553.jpg","2554.jpg","2555.jpg","2556.jpg","2557.jpg","2558.jpg",
"256.jpg","2560.jpg","2561.jpg","257.jpg","259.jpg"
];

files.sort((a,b)=>a.localeCompare(b,undefined,{numeric:true}));

const gallery = document.getElementById("gallery");
let currentIndex = 0;

files.forEach((file,i)=>{
  const item = document.createElement("div");
  item.className = "item";

  const img = document.createElement("img");
  img.src = "img/" + file;
  img.loading = "lazy";
  img.onload = ()=> img.classList.add("loaded");

  img.onclick = ()=>{
    openViewer(i);
  };

  const meta = document.createElement("div");
  meta.className = "meta";
  meta.textContent = `${i+1}`;

  item.appendChild(img);
  item.appendChild(meta);
  gallery.appendChild(item);
});

const lightbox = document.getElementById("lightbox");
const viewer = document.getElementById("viewer");

function openViewer(index){
  currentIndex = index;
  viewer.src = "img/" + files[index];
  lightbox.style.display = "flex";
}

function showNext(){
  currentIndex = (currentIndex + 1) % files.length;
  viewer.src = "img/" + files[currentIndex];
}

function showPrev(){
  currentIndex = (currentIndex - 1 + files.length) % files.length;
  viewer.src = "img/" + files[currentIndex];
}

document.getElementById("next").onclick = showNext;
document.getElementById("prev").onclick = showPrev;

document.getElementById("download").onclick = ()=>{
  const link = document.createElement("a");
  link.href = viewer.src;
  link.download = "";
  link.click();
};

lightbox.onclick = e=>{
  if(e.target === lightbox) lightbox.style.display = "none";
};

document.addEventListener("keydown",e=>{
  if(lightbox.style.display === "flex"){
    if(e.key === "ArrowRight") showNext();
    if(e.key === "ArrowLeft") showPrev();
    if(e.key === "Escape") lightbox.style.display = "none";
  }
});
</script>

</body>
</html>

